<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/" color="dark" icon="arrow-back"></ion-back-button>
    </ion-buttons>
    
    <ion-buttons slot="end">
      <ion-button color="dark">
        <ion-icon name="share-social-outline"></ion-icon>
      </ion-button>
      <ion-button color="dark">
        <ion-icon name="heart-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="bg-white">
  
  <div class="image-container">
    <div class="main-img">
      <img [src]="product.images[0]" />
    </div>
    <div class="trust-badges">
      <div class="badge"><ion-icon name="leaf-outline" color="success"></ion-icon> Organic</div>
      <div class="badge"><ion-icon name="shield-checkmark-outline" color="primary"></ion-icon> Best Quality</div>
    </div>
  </div>

  <div class="info-section">
    <div class="d-flex justify-content-between align-items-start">
      <div>
        <small class="brand text-muted">Fresho</small>
        <h1>{{product.name}}</h1>
      </div>
      <div class="time-pill">
        <ion-icon name="time-outline"></ion-icon> 8 mins
      </div>
    </div>

    <div class="weight-row">{{product.weight}}</div>

    <div class="price-block">
      <span class="curr">₹{{product.price}}</span>
      <span class="old">₹{{product.originalPrice}}</span>
      <span class="disc-tag">{{product.discount}}% OFF</span>
    </div>
    <p class="tax-note">(Inclusive of all taxes)</p>
  </div>

  <hr class="divider">

  <div class="details-section">
    <h4>Product Details</h4>
    <p [class.collapsed]="!isExpanded">
      {{product.description}}
    </p>
    <span class="read-more" (click)="isExpanded = !isExpanded">
      {{ isExpanded ? 'Read Less' : 'Read More' }}
    </span>

    <div class="highlights">
      <div class="hl-item">
        <small>Type</small>
        <strong>Hybrid</strong>
      </div>
      <div class="hl-item">
        <small>Shelf Life</small>
        <strong>3 Days</strong>
      </div>
      <div class="hl-item">
        <small>Origin</small>
        <strong>Local Farm</strong>
      </div>
    </div>
  </div>

  <hr class="divider">

  <div class="similar-section">
    <h4>You might also like</h4>
    <div class="scroll-x">
      <div class="mini-card" *ngFor="let item of similarProducts">
        <div class="img-box"><img [src]="item.img"></div>
        <div class="name">{{item.name}}</div>
        <div class="price">₹{{item.price}}</div>
        <button class="add-mini">ADD</button>
      </div>
    </div>
  </div>

  <div style="height: 100px;"></div>

</ion-content>

<ion-footer class="sticky-footer">
  <div class="action-container" *ngIf="qty === 0">
    <div class="unit-toggle">
      <span>{{product.weight}}</span>
      <small>₹{{product.price}}</small>
    </div>
    <button class="big-add-btn" (click)="toggleQty('add')">
      ADD TO CART
    </button>
  </div>

  <div class="action-container active-state" *ngIf="qty > 0">
    <div class="item-total">
      <small>Item Total</small>
      <strong>₹{{qty * product.price}}</strong>
    </div>
    <div class="big-counter">
      <div class="btn" (click)="toggleQty('remove')">-</div>
      <div class="val">{{qty}}</div>
      <div class="btn" (click)="toggleQty('add')">+</div>
    </div>
  </div>
</ion-footer>